{% extends "main.html" %} {% block content %} {%load bootstrap_icons%}
<section class="container-fluid ps-4 pe-4 mt-5">
    <div class="d-flex align-items-center justify-content-between mb-3">
        <div class="d-flex">
          <span class="cursor-pointer" onclick="goBack()">{% bs_icon 'arrow-left' size='1.5em' color='#000' %}</span>
          <h4 class="ms-3">Bolsistas do ProjetoX</h4>
        </div>
        <button
        onclick="changeModalTitle('Novo bolsista')"
          type="button"
          data-bs-toggle="modal"
          data-bs-target="#userModal"
          class="mt-sm-0 btn btn-dark d-flex align-items-center"
        >
        {% bs_icon 'plus' size='1.2em' %}<span class="ps-1">Novo bolsista</span>
        </button>
      </div>
    <div class="row mt-4">
        <div class="col-12">
        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th scope="col">Nome</th>
                <th scope="col">Email</th>                
                <th scope="col">Ações</th>
            </tr>
            </thead>
            <tbody>
            {% for user in object_list %}
            <tr>
                <td>{{ user.name }}</td>
                <td>{{ user.email }}</td>                                
                <td>                   
                    <button
                        onclick="changeModalTitle('Editando bolsista')"
                        type="button"
                        style="
                        --bs-btn-padding-y: 0.25rem;
                        --bs-btn-padding-x: 0.5rem;
                        --bs-btn-font-size: 0.75rem;
                        "
                        class="btn btn-success me-2"
                        data-bs-toggle="modal"
                        data-bs-target="#userModal"
                    >
                        {% bs_icon 'pencil-square' size='1.2em' %}Editar
                    </button>
                    <button
                        type="button"
                        style="
                        --bs-btn-padding-y: 0.25rem;
                        --bs-btn-padding-x: 0.5rem;
                        --bs-btn-font-size: 0.75rem;
                        "
                        class="btn btn-danger"
                    >
                        {% bs_icon 'trash' size='1.2em' %}Deletar
                    </button>                               
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
        </div>
    </div>
    
    
    {% comment %} Modal {% endcomment %}
    <div
        class="modal fade"
        id="userModal"
        tabindex="-1"
        aria-labelledby="userModalLabel"
        aria-hidden="true"
    >
        <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <h1 class="modal-title fs-5" id="userModalLabel">
                Editando bolsista
            </h1>
            <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
            ></button>
            </div>
            <div class="modal-body">
            <form class="w-100">
                <div class="mb-3">
                <label for="name" class="form-label">Nome</label>
                <input
                    type="text"
                    class="form-control"
                    id="name"
                    placeholder="bolsista1"
                    required
                />
                </div>
                <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input
                    type="email"
                    class="form-control"
                    id="email"
                    placeholder="email@email.com"
                    required
                />
                </div>
            </form>
            </div>
            <div class="modal-footer">
            <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
            >
                Fechar
            </button>
            <button type="button" class="btn btn-primary">Confirmar</button>
            </div>
        </div>
    </div>  
</section>

<script>
    function goBack() {
      window.history.back();
    }

    function changeModalTitle(title) {
        document.getElementById('userModalLabel').innerText = title;
      }
  </script>
{% endblock content %}
