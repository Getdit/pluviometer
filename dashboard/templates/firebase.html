<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-analytics.js";
  import {
    getMessaging,
    getToken,
    onMessage,
  } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-messaging.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCMWnMUxwERltoyIipBiffguQqkCOiHtl0",
    authDomain: "petshop-3871e.firebaseapp.com",
    projectId: "petshop-3871e",
    storageBucket: "petshop-3871e.appspot.com",
    messagingSenderId: "701092389886",
    appId: "1:701092389886:web:888346904c0b399a7216af",
    measurementId: "G-8NGF95RR5C",
  };

  const app = initializeApp(firebaseConfig);

  getAnalytics(app);
  const messaging = getMessaging(app);

  getToken(messaging, {
    vapidKey:
      "BOGIWAeJgqP2dWqy2O0T_dKfF5DcU9IFsGGEODeCroh8Ecfk-cVl8Dj7SzbuiI1Aj8v2zlB_M3kb46bcj_jSPF8",
  });

  Notification.requestPermission();

  onMessage(messaging, (payload) => {
    console.log("Message received. ", payload);
  });
</script>
